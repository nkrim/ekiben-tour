<!DOCTYPE html>
<html>
  <head>
    <script src="./app.js"></script>
    <style>
      html, body {
        background: #003c9e;
        overflow: hidden;
        height: 100vh;
        width: 100vw;
        margin: 0;
      }
      body {
        text-align: center;
      }

      .hidden {
        visibility: hidden;
      }
      .show {
        visibility: visible !important;
      }

      #canvasWrapper {
        display: inline-block;
        position: relative;
        margin: auto;
        margin-top: 50px;
      }

      #canvas {
        z-index: -1;
      }
      #canvasMask, #canvasBuffer {
        z-index: -100;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
      }

      #cityName {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        text-align: center;
        pointer-events: none;
      }
      #cityName span {
        background: #003c9e;
        color: #fbf236;
        font-size: 48px;

        position: relative;
        top: 20px;
        padding: 10px 30px;

        border: 3px solid #fbf236;
        /* border-left: none;
        border-right: none;
        border-radius: 12px; */

        text-shadow: 0px 0px 4px #faae37;
        box-shadow: inset 0px 0px 4px 2px #faae37;
      }

      #backButton {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        text-align: center;
      }
      #backButton span {
        background: #003c9e;
        color: #fbf236;
        font-size: 24px;

        position: relative;
        top: 20px;
        padding: 10px 30px;

        border: 3px solid #fbf236;
        border-radius: 12px;
        cursor: pointer;

        text-shadow: 0px 0px 4px #faae37;
        box-shadow: inset 0px 0px 4px 2px #faae37;

        opacity: 1;
        visibility: visibile;
        transition: opacity 1s, visibility 0s;
      }
      #backButton.hidden span {
        opacity: 0;
        transition: opacity 1s, visibility 1.1s;
      }
      #backButton span:hover {
        background: #002562;
      }

      #ekibenBios, #ekibenIngredients {
        position: absolute;
        top: 100px;
        width: 400px;
        pointer-events: none;
      }
      #ekibenBios {
        text-align: right;
        left: -150px;
      }
      #ekibenIngredients {
        text-align: left;
        right: -150px;
      }
      #ekibenBios div, #ekibenIngredients div {
        pointer-events: none;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
      }
      #ekibenBios h2 {
        position: relative;
        left: 0;
        pointer-events: all;

        font-size: 32px;
        text-align: left;

        display: inline-block;
        background: #003c9e;
        opacity: 1;
        width: 66%;
        padding: 10px 20px;
        margin: 0;
        margin-bottom:  -4px;

        border: 4px solid #fbf236;
        border-top-left-radius: 16px;
        box-shadow: inset 0px 0px 4px 2px #faae37;

        transition: left 0.5s ease-out, opacity 0.5s ease-out;
      }
      #ekibenBios div.docked h2 {
        left: -600px;
        opacity: 0;
      }
      #ekibenBios p, #ekibenIngredients p {
        position: relative;
        pointer-events: all;

        font-size: 16px;
        text-align: left;

        background: #003c9e;
        padding: 16px;
        margin:  0;
        border: 4px solid #fbf236;
        box-shadow: inset 0px 0px 4px 2px #faae37;

        transition: left 0.5s ease-out 0.15s, right 0.5s ease-out, opacity 0.5s ease-out 0.15s;
      }
      #ekibenBios p {
        left: 0px;
        border-top-left-radius: 16px;
      }
      #ekibenIngredients p {
        right: 0px;
        border-top-right-radius: 16px;
      }
      #ekibenBios div.docked p {
        left: -600px;
        opacity: 0;
      }
      #ekibenIngredients div.docked p {
        right: -600px;
        opacity: 0;
      }

      h1, h2, span, p {
        font-family: verdana;
        color: white;
      }
      
      a:link {
        color: #fbf236;
      }
      a:visited {
        color: #fbf236;
      }
      a:hover {
        color: #fbf236;
      }
      a:active {
        color: #fbf236;
      }
    </style>
  </head>
  <body>
    <div id="images" style="display:none;">
      <img id="japan" src="img/japan.png" width=600 height=541 onload="imgload()" />
      <img id="shin" src="img/shin.png" width=960 height=539 onload="imgload()" />

      <img id="cityNormal" src="img/city-normal.png" width=16 height=16 onload="imgload()" />
      <img id="cityHover" src="img/city-hover.png" width=16 height=16 onload="imgload()" />

      <img id="beefDomannaka" src="img/beef-domannaka.png" width=337 height=360 onload="imgload()" />
      <img id="beefDomannakaCover" src="img/beef-domannaka-cover.png" width=337 height=360 onload="imgload()" />
      <img id="beefDomannakaBeef" src="img/beef-domannaka-beef.png" width=337 height=360 onload="imgload()" />
      <img id="beefDomannakaBeefMask" src="img/beef-domannaka-beef-mask.png" width=337 height=360 onload="imgload()" />
      <img id="beefDomannakaSides" src="img/beef-domannaka-sides.png" width=337 height=360 onload="imgload()" />
      <img id="beefDomannakaSidesMask" src="img/beef-domannaka-sides-mask.png" width=337 height=360 onload="imgload()" />

      <img id="makunouchi" src="img/makunouchi.png" width=303 height=360 onload="imgload()" />
      <img id="makunouchiCover" src="img/makunouchi-cover.png" width=303 height=360 onload="imgload()" />
      <img id="makunouchiRice" src="img/makunouchi-rice.png" width=303 height=360 onload="imgload()" />
      <img id="makunouchiRiceMask" src="img/makunouchi-rice-mask.png" width=303 height=360 onload="imgload()" />
      <img id="makunouchiSides" src="img/makunouchi-sides.png" width=303 height=360 onload="imgload()" />
      <img id="makunouchiSidesMask" src="img/makunouchi-sides-mask.png" width=303 height=360 onload="imgload()" />

      <img id="hippari" src="img/hippari.png" width=300 height=372 onload="imgload()" />
      <img id="hippariCover" src="img/hippari-cover.png" width=300 height=372 onload="imgload()" />
      <img id="hippariOcto" src="img/hippari-octo.png" width=300 height=372 onload="imgload()" />
      <img id="hippariOctoMask" src="img/hippari-octo-mask.png" width=300 height=372 onload="imgload()" />
    </div>
    <div id="canvasWrapper">
      <canvas id="canvas" width=960 height=640></canvas>
      <canvas id="canvasMask" width=960 height=640></canvas>
      <canvas id="canvasBuffer" width=960 height=640></canvas>
      <div id="cityName"><span class="hidden">Tokyo</span></div>
      <div id="backButton" class="hidden"><span onclick="to_map()">Back To Map</span></div>
      <div id="ekibenBios">
        <div id="beefDomannakaBio" class="docked">
          <h2>Gyuniku Domannaka</h2>
          <p> Available at Yonezawa Station, along with others on the Yamagata
              Shinkansen line, for 1,250 yen.
              <br/><br/>
              This beef-bowl style bento box features fluffy Domannaka rice made
              in Yamagata Prefecture topped with minced beef and sauteed beef
              slices cooked with a special tare sauce.
              <br/><br/>
              The bento was launched the year after opening the Yamagata
              Shinkansen and is now an ekiben train station lunchbox that is
              famous throughout Japan.
              <br/><br/>
              <a href="https://japanrailandtravel.com/interests/food-shopping/ekiben/gyuniku-domannaka/" target="_blank">source</a>
        </div>
        <div id="makunouchiBio" class="docked">
          <h2>Gindara Makunouchi</h2>
          <p> Available at Tokyo Station for 1,380 yen.
              <br/><br/>
              <i>Makunouchi bento</i> means "between-act bento", referring to
              bento's origins as a meal for theater-goers. Now, makunouchi
              generally refers to larger bento that attempt to contain every
              flavor and ingredient that is quintessential to Japanese taste.
              You can find some form of makunouchi at nearly every railstation
              in Japan.
              <br/><br/>
              This particular bento's unique feature is <i>gindara</i> or
              sablefish, served grilled and seasoned with a yuzu-miso sauce.
              <br/><br/>
              <a href="https://grapeejapan.com/191895" target="_blank">source</a>
        </div>
        <div id="hippariBio" class="docked">
          <h2>Hipparidako-meshi</h2>
          <p> Available at Nishi-Akashi Station for 1,080 yen.
              <br/><br/>
              This famous bento features octopus, conger eel, and seasonal
              vegetables packaged in a special clay pot made to look like
              one of the barrel-shaped octopus traps traditionally used in
              Japan.
              <br/><br/>
              The name <i>hipparidako-meshi</i> is an expression, literally 
              meaning "pulled octopus", which is used to refer to someone who is
              so popular that they continually receive invitations and offers
              like an octopus beingd pulled in different directions.
              <br/><br/>
              <a href="https://grapeejapan.com/191895" target="_blank">source</a>
        </div>
      </div>

      <div id="ekibenIngredients">
        <div id="beefDomannakaBeefBio" class="docked"><p>
          Minced and sauteed beef over rice.
        </p></div>
        <div id="beefDomannakaSidesBio" class="docked"><p>
          Assortment of small sides, including seaweed (nori), fish cake,
          egg omelet (tamago), and pickled ginger.
        </p></div>

        <div id="makunouchiRiceBio" class="docked"><p>
          A large portion of rice featuring a pickled plum in the center,
          evoking the Japanese flag. On the side is some pickled
          seaweed (nori).
        </p></div>
        <div id="makunouchiSidesBio" class="docked"><p>
          <i>Gindara</i>, or sablefish, alongside omelet (tamago), kamaboko fish cakes,
          pickled eggplant, fried chicken with yuzu pepper seasoning, and
          soy-mirin seasoned assorted vegetables (butterbur, burdock, carrot,
          shiitake mushroom, lotus root, pumpkin, peas, konnyaku and taro root).
        </p></div>

        <div id="hippariOctoBio" class="docked"><p>
          Octopus (tako), conger eel (unagi), and seasonal vegetables.
        </p></div>
      </div>
    </div>
  </body>
</html>